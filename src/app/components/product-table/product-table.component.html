
<div class="table-container">
  <table>
    <thead>
    <tr>
      <th>Estado</th>
      <th>Imagen</th>
      <th>SKU</th>
      <th>T√≠tulo</th>
      <th>Categor√≠a</th>
      <th>Precio</th>
      <th>Existencia</th>
      <th colspan="2">Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let product of products">

      <!-- üëá C√ìDIGO RESTAURADO PARA EL CHECKBOX DE ESTADO üëá -->
      <td>
        <label class="switch">
          <input
            type="checkbox"
            [checked]="product.isactive"
            (change)="onStatusChange($event, product.id)">
          <span class="slider round"></span>
        </label>
      </td>

      <!-- üëá C√ìDIGO RESTAURADO PARA LA IMAGEN üëá -->
      <td>
        <img
          [src]="product.images[0] || defaultImage"
          [alt]="product.title"
          class="product-thumbnail"
          (error)="handleImageError($event)">
      </td>

      <!-- 3. SKU -->
      <td>{{ product.sku }}</td>
      <!-- 4. T√≠tulo -->
      <td>{{ product.title }}</td>
      <!-- 5. Categor√≠a -->
      <td>{{ product.category.name }}</td>
      <!-- 6. Precio -->
      <td>{{ product.price | currency:'USD':'symbol':'1.2-2' }}</td>
      <!-- 7. Existencia -->
      <td>{{ product.stock }}</td>

      <!-- 8. Bot√≥n Modificar (Mantenemos la correcci√≥n que ya funciona) -->
      <td>
        <button (click)="onEdit(product.sku)" class="action-btn edit-btn" title="Modificar">‚úèÔ∏è</button>
      </td>

      <!-- 9. Bot√≥n Eliminar -->
      <td>
        <button (click)="onDelete(product.id)" class="action-btn delete-btn" title="Eliminar">üóëÔ∏è</button>
      </td>
    </tr>
    <tr *ngIf="products.length === 0">
      <td colspan="9" class="no-results">No se encontraron productos.</td>
    </tr>
    </tbody>
  </table>
</div>
